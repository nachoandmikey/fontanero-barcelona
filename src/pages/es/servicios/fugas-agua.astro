---
import Base from '../../../layouts/Base.astro';
import PhoneCTA from '../../../components/PhoneCTA.astro';
import TrustSignals from '../../../components/TrustSignals.astro';
import { districts } from '../../../data/neighborhoods';
import { PHONE, SITES } from '../../../lib/constants';
import { getServicePageSchema } from '../../../lib/schema';

const title = "Reparaci√≥n de Fugas de Agua en Barcelona | Fontanero 24h";
const description = `Servicio urgente de detecci√≥n y reparaci√≥n de fugas de agua en Barcelona. Fontaneros profesionales disponibles 24/7. Llegamos en menos de 1 hora. ‚òé ${PHONE.display}`;

// Get featured neighborhoods for internal linking
const featuredNeighborhoods = [
  districts[0].neighborhoods[0], // El Raval
  districts[1].neighborhoods[0], // Dreta Eixample
  districts[5].neighborhoods[0], // Vila de Gr√†cia
  districts[9].neighborhoods[4], // Poblenou
];

// Enhanced LocalBusiness + Service schema for better SEO
const schema = getServicePageSchema('es', 'waterLeaks', description);
---

<Base title={title} description={description} schema={schema}>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-primary-600 to-primary-800 text-white py-16">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">üíß Reparaci√≥n de Fugas de Agua</h1>
      <p class="text-xl text-primary-100 mb-8">
        Detecci√≥n y reparaci√≥n urgente de fugas en tuber√≠as, grifos y cisternas
      </p>
      <PhoneCTA size="lg" />
    </div>
  </section>

  <TrustSignals />

  <!-- Content -->
  <section class="py-16" aria-labelledby="main-content">
    <div class="max-w-4xl mx-auto px-4 prose prose-lg">
      <h2 id="main-content">¬øTienes una fuga de agua en Barcelona?</h2>
      <p>
        Las fugas de agua pueden causar da√±os importantes en tu hogar si no se reparan a tiempo. 
        Nuestros <strong>fontaneros profesionales en Barcelona</strong> utilizan equipos de detecci√≥n 
        avanzados para localizar y reparar cualquier tipo de fuga de forma r√°pida y eficiente.
      </p>

      <h3>Tipos de fugas que reparamos:</h3>
      <ul>
        <li>Fugas en tuber√≠as empotradas y vistas</li>
        <li>Fugas en grifos y sanitarios</li>
        <li>Fugas en cisternas e inodoros</li>
        <li>Fugas en calentadores y calderas</li>
        <li>Fugas en bajantes y desag√ºes</li>
        <li>Fugas por condensaci√≥n</li>
      </ul>

      <h3>Nuestro proceso de reparaci√≥n:</h3>
      <ol>
        <li><strong>Inspecci√≥n</strong> - Evaluamos la situaci√≥n y localizamos la fuga con equipos de detecci√≥n</li>
        <li><strong>Diagn√≥stico</strong> - Te explicamos el problema y las opciones de reparaci√≥n</li>
        <li><strong>Presupuesto</strong> - Te damos un precio cerrado sin sorpresas</li>
        <li><strong>Reparaci√≥n</strong> - Solucionamos el problema de forma definitiva</li>
        <li><strong>Garant√≠a</strong> - Todos nuestros trabajos tienen garant√≠a</li>
      </ol>

      <h3>¬øPor qu√© elegirnos para tu fuga de agua?</h3>
      <ul>
        <li>‚úÖ Respuesta en menos de 1 hora en toda Barcelona</li>
        <li>‚úÖ Disponibles 24 horas, 7 d√≠as a la semana</li>
        <li>‚úÖ Fontaneros titulados y con experiencia</li>
        <li>‚úÖ Equipos de detecci√≥n de fugas no destructivos</li>
        <li>‚úÖ Precios transparentes sin sorpresas</li>
        <li>‚úÖ Garant√≠a en todos los trabajos</li>
      </ul>
    </div>
  </section>

  <!-- Neighborhoods -->
  <section class="py-16 bg-gray-50" aria-labelledby="areas-heading">
    <div class="max-w-4xl mx-auto px-4">
      <h2 id="areas-heading" class="text-2xl font-bold text-gray-800 mb-6 text-center">
        Reparamos fugas de agua en todos los barrios de Barcelona
      </h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
        {featuredNeighborhoods.map(n => (
          <a 
            href={`/zonas/${n.id}/`}
            class="bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow text-center group"
          >
            <span class="font-medium text-gray-800 group-hover:text-primary-600 transition-colors">
              {n.nameEs}
            </span>
          </a>
        ))}
      </div>
      <div class="text-center">
        <a href="/zonas/" class="text-primary-600 hover:text-primary-700 font-semibold">
          Ver todas las zonas ‚Üí
        </a>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-16 bg-primary-600 text-white" aria-labelledby="cta-heading">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 id="cta-heading" class="text-3xl font-bold mb-4">¬øTienes una fuga de agua?</h2>
      <p class="text-xl text-primary-100 mb-8">
        Ll√°manos ahora y solucionamos tu problema hoy mismo
      </p>
      <PhoneCTA size="lg" variant="outline-light" />
    </div>
  </section>
</Base>
