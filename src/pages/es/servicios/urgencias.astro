---
import Base from '../../../layouts/Base.astro';
import PhoneCTA from '../../../components/PhoneCTA.astro';
import TrustSignals from '../../../components/TrustSignals.astro';
import { districts } from '../../../data/neighborhoods';
import { PHONE, SITES } from '../../../lib/constants';
import { getServicePageSchema } from '../../../lib/schema';

const title = "Fontanero Urgente 24 Horas Barcelona | Emergencias";
const description = `Servicio de fontanerÃ­a urgente en Barcelona disponible 24 horas, 7 dÃ­as a la semana. Llegamos en menos de 1 hora a cualquier barrio. â˜ ${PHONE.display}`;

// Get all districts for comprehensive coverage listing
const allDistrictNames = districts.map(d => d.nameEs);

// Enhanced LocalBusiness + Service schema for better SEO
const schema = getServicePageSchema('es', 'emergency', description);
---

<Base title={title} description={description} schema={schema}>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-red-600 to-red-800 text-white py-16">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">ğŸš¨ Fontanero Urgente 24h</h1>
      <p class="text-xl text-red-100 mb-8">
        Emergencias de fontanerÃ­a en Barcelona - Llegamos en menos de 1 hora
      </p>
      <PhoneCTA size="lg" />
    </div>
  </section>

  <TrustSignals />

  <!-- Content -->
  <section class="py-16" aria-labelledby="main-content">
    <div class="max-w-4xl mx-auto px-4 prose prose-lg">
      <h2 id="main-content">Servicio de emergencias de fontanerÃ­a 24 horas</h2>
      <p>
        Las emergencias de fontanerÃ­a no avisan. Por eso nuestros <strong>fontaneros urgentes en 
        Barcelona</strong> estÃ¡n disponibles las 24 horas del dÃ­a, los 7 dÃ­as de la semana, incluidos 
        festivos. Cuando nos llamas, un fontanero profesional se desplaza a tu domicilio en menos de 1 hora.
      </p>

      <h3>Emergencias que atendemos:</h3>
      <ul>
        <li>ğŸš¨ Roturas de tuberÃ­as e inundaciones</li>
        <li>ğŸš¨ Fugas de agua graves</li>
        <li>ğŸš¨ Atascos que impiden usar el baÃ±o</li>
        <li>ğŸš¨ AverÃ­as en calentadores o calderas</li>
        <li>ğŸš¨ Cortes de agua en vivienda</li>
        <li>ğŸš¨ Problemas con llaves de paso</li>
        <li>ğŸš¨ Desbordamientos y humedades</li>
      </ul>

      <h3>Nuestra garantÃ­a de respuesta:</h3>
      <div class="bg-red-50 border-l-4 border-red-500 p-4 not-prose my-6">
        <p class="font-bold text-red-800 text-lg">â±ï¸ Llegamos en menos de 1 hora</p>
        <p class="text-red-700">Desde que recibes tu llamada, un fontanero sale hacia tu domicilio inmediatamente. Sin esperas, sin excusas.</p>
      </div>

      <h3>Â¿QuÃ© hacer mientras llega el fontanero?</h3>
      <ol>
        <li><strong>Cierra la llave de paso</strong> - Evita mÃ¡s daÃ±os por agua cortando el suministro</li>
        <li><strong>Desconecta la electricidad</strong> - Si hay riesgo de contacto del agua con instalaciones elÃ©ctricas</li>
        <li><strong>Recoge el agua</strong> - Usa toallas, cubos o fregonas para minimizar daÃ±os</li>
        <li><strong>Documenta los daÃ±os</strong> - Haz fotos para tu compaÃ±Ã­a de seguros</li>
        <li><strong>LlÃ¡manos inmediatamente</strong> - Cuanto antes actuemos, menos daÃ±os habrÃ¡</li>
      </ol>

      <h3>Cobertura en toda Barcelona</h3>
      <p>
        Atendemos emergencias en <strong>todos los distritos de Barcelona</strong>: 
        {allDistrictNames.join(', ')}.
      </p>
    </div>
  </section>

  <!-- Districts coverage -->
  <section class="py-16 bg-gray-50" aria-labelledby="coverage-heading">
    <div class="max-w-4xl mx-auto px-4">
      <h2 id="coverage-heading" class="text-2xl font-bold text-gray-800 mb-6 text-center">
        Urgencias 24h en todos los barrios de Barcelona
      </h2>
      <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
        {districts.map(d => (
          <a 
            href={`/zonas/${d.neighborhoods[0].id}/`}
            class="bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow text-center group"
          >
            <span class="font-medium text-gray-800 group-hover:text-primary-600 transition-colors text-sm">
              {d.nameEs}
            </span>
          </a>
        ))}
      </div>
      <div class="text-center">
        <a href="/zonas/" class="text-primary-600 hover:text-primary-700 font-semibold">
          Ver todos los barrios â†’
        </a>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-16 bg-red-600 text-white" aria-labelledby="cta-heading">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 id="cta-heading" class="text-3xl font-bold mb-4">Â¿Tienes una emergencia de fontanerÃ­a?</h2>
      <p class="text-xl text-red-100 mb-8">
        LlÃ¡manos ahora - Estamos disponibles 24 horas, 7 dÃ­as a la semana
      </p>
      <PhoneCTA size="lg" variant="outline-light" />
    </div>
  </section>
</Base>
